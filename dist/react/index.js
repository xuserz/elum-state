"use strict";var e=require("react");const t={m:new Map,l:new Map,e:((e=new Map)=>({on:(t,s,o=e.get(t))=>o?o.push(s):e.set(t,[s]),off:(t,s,o=e.get(t))=>o&&s?o.splice(o.indexOf(s)>>>0,1):e.set(t,[]),emit:(t,s,o=e.get(t)||[])=>{for(const e of o)e(s)}}))()},s=e=>e.g(),o=(e,t)=>e.s(t),r=t=>{const[o,r]=e.useState(s(t));return e.useLayoutEffect((()=>t.sb(r)),[]),o};exports.atom=e=>{const{key:s,request:o}=e,r=e=>{const o="function"==typeof e?e(n()):e;t.m.set(s,o),t.l.set(s,!0),t.e.emit(s,o)},n=()=>(o&&!1!==t.l.get(s)&&(t.l.set(s,!1),o(n,r)),t.m.get(s)??e.default);return{k:s,d:e.default,g:n,s:r,sb:e=>(t.e.on(s,e),()=>t.e.off(s,e))}},exports.getter=s,exports.setter=o,exports.useGlobalState=e=>[r(e),t=>o(e,t)],exports.useGlobalValue=r;
